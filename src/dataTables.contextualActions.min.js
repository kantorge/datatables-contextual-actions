jQuery.fn.dataTable.Api.register("contextualActions()",function(t){var e=this.table();if(null==t&&(t={}),(t=function t(e,...i){if(!i.length)return e;const n=i.shift();if(c(e)&&c(n))for(const i in n)c(n[i])?(e[i]||Object.assign(e,{[i]:{}}),t(e[i],n[i])):Object.assign(e,{[i]:n[i]});return t(e,...i)}({contextMenu:{enabled:!0,xoffset:-10,yoffset:-10,headerRenderer:function(){return""}},buttonList:{enabled:!0,groupClass:"btn-group",iconOnly:!1,disabledOpacity:.5,dividerSpacing:10},classes:[],iconPrefix:"",items:[],showSpeed:"0.30s",showConfirmationMethod:function(t){t.callback(window.confirm(t.message))}},t)).buttonList.enabled&&void 0===t.buttonList.containerSelector)throw"The buttonList.containerSelector option must be specified if the buttonList is enabled, to specify where the buttons will be created";var i={dt:null,table:null,contextMenuId:"",rightClickedRowData:"",init:function(t){this.dt=e,this.table=$(this.dt.container()).find("table"),$(window).click(function(){$("#"+i.contextMenuId).is(":visible")&&!$(event.target).closest(".dropdown-menu").length&&n()}),this.contextMenuId=(this.table instanceof jQuery?this.table.attr("id"):this.table.id)+"-context-menu",this.rightClickedRowData=null;var a=this;$(this.table).on("contextmenu","tr",function(e){var i=a.dt.row(this).data();if(t.contextMenu.enabled&&void 0!==i)return n(),a.rightClickedRowData=i,a.dt.row(this).select(),o(e.pageX,e.pageY),!1}),this.dt.on("select",function(e,i,n,o){if("row"===n){var d=i.rows({selected:!0}).toArray()[0],l=a.table.DataTable().rows(d).data().toArray();s(i,t,l)}}),this.dt.on("deselect",function(e,i,n,o){if("row"===n){var d=i.rows({selected:!0}).toArray()[0],l=a.table.DataTable().rows(d).data().toArray();s(i,t,l)}}),s(this.dt,t,[])},update:function(){var e=this.dt.rows({selected:!0}).data().toArray();s(this.dt,t,e)}};function n(){i.table.DataTable().rows().deselect(),$("#"+i.contextMenuId).removeClass("show").hide(),i.rightClickedRowData=null,a(i.contextMenuId)}function o(e,n){var o,s,d,c,r,u;o=i.contextMenuId,s=t.classes,d=t.iconPrefix,c=t.items,r=i.rightClickedRowData,(u=$('<div id="'+o+'" class="dropdown-menu shadow'+s.join(" ")+'">')).css({display:"block",visibility:"hidden",opacity:0,transform:"translateY(-30px)",transition:"0.15s ease all"}),u.append('<h6 class="dropdown-header"></h6>'),$.each(c,function(t,e){if("function"!=typeof e.isHidden||!e.isHidden(r))if("divider"===e.type)t>0&&t!==c.length-1&&"divider"!==c[t-1].type&&u.append('<div class="dropdown-divider"></div>');else if("option"===e.type){var n="";void 0!==e.iconClass&&""!==e.icon&&(n='<i style="margin-right:15px;" class="'+d+" "+e.iconClass+'"></i>');var s=void 0!==e.contextMenuClasses?e.contextMenuClasses.join(" "):"",f=void 0!==e.classes?e.classes.join(" "):"",p=e.title||"",h=$.parseHTML('<a class="dropdown-item '+f+" "+s+'" style="cursor: pointer;">'+n+p+"</a>");"function"==typeof e.isDisabled&&e.isDisabled(r)&&$(h).addClass("disabled").css("opacity","0.5"),void 0!==e.confirmation?$(h).click(function(){i.dt.rows().deselect(),a(o),l(e,[r],$(h))}):$(h).click(function(){i.dt.rows().deselect(),a(o),e.action([r],$(h))}),u.append(h)}}),u.children(":last-child.dropdown-divider").remove(),u.children().each(function(){$(this).hasClass("dropdown-divider")&&$(this).prev().hasClass("dropdown-divider")&&$(this).remove()}),$("body").append(u),$("#"+i.contextMenuId).css({top:n+t.contextMenu.yoffset,left:e+t.contextMenu.xoffset}),$("#"+i.contextMenuId).find(".dropdown-header").html(t.contextMenu.headerRenderer(i.rightClickedRowData)),setTimeout(function(){$("#"+i.contextMenuId).css({display:"block",visibility:"visible",opacity:1,transform:"translateY(0px)",transition:t.showSpeed+" ease all","z-index":99999})},1)}function s(t,e,n){e.buttonList.enabled&&function(t,e,n,o,s){d(t.containerSelector,e),function(t,e,n,o,s){var a='<div class="'+t.groupClass+'"></div>',d=[],c=null;$.each(n,function(e,r){if(null===c)c=$(a);else{if(0===e&&"divider"===r.type)return;if(e>0&&"divider"===r.type&&"divier"===n[e-1].type)return;if(e===n.length-1&&"divider"===r.type)return;if(e>0&&"divider"===r.type)return d.push(c),void(c=$(a)).css("margin-left",t.dividerSpacing+"px")}if(("function"!=typeof r.isHidden||0!==s.length&&!s.some(t=>r.isHidden(t)))&&("option"===r.type||"static"===r.type)){var u="",f=t.iconOnly?"":"margin-right:10px;";void 0!==r.iconClass&&""!==r.icon&&(u='<i style="'+f+'" class="'+o+" "+r.iconClass+'"></i>');var p=void 0!==r.buttonClasses?r.buttonClasses.join(" "):"",h=void 0!==r.classes?r.classes.join(" "):"",b="",v=void 0===r.multiTitle?r.title||"":s.length>1?r.multiTitle||"":r.title||"";b=t.iconOnly?u:u+v;var y="function"==typeof r.isDisabled?s.filter(t=>!r.isDisabled(t)).length:s.length;t.iconOnly?(v=v,"static"!==r.type&&s.length>1&&(v+=" ("+y+")")):v="";var w=$.parseHTML('<button class="'+p+" "+h+'" data-original-title="'+v+'" >'+b+"</button>");void 0!==r.id&&$(w).attr("id",r.id);var g="static"!==r.type&&0===s.length||void 0!==r.multi&&!1===r.multi&&s.length>1||"function"==typeof r.isDisabled&&((void 0===r.isDisabledStrictMode||"boolean"==typeof r.isDisabledStrictMode&&!1===r.isDisabledStrictMode)&&0===s.filter(t=>!r.isDisabled(t)).length||"boolean"==typeof r.isDisabledStrictMode&&!0===r.isDisabledStrictMode&&s.some(t=>r.isDisabled(t)))||"static"===r.type&&"function"==typeof r.isDisabled&&r.isDisabled();g?($(w).addClass("disabled"),$(w).attr("disabled","disabled"),$(w).css("cursor","not-allowed"),$(w).css("opacity",t.disabledOpacity),$(w).removeAttr("title","")):!t.iconOnly&&"static"!==r.type&&s.length>1&&$(w).append(" ("+y+")"),!g&&t.iconOnly&&""!==v&&$(w).attr("data-toggle","tooltip"),"static"===r.type?$(w).click(function(){i.dt.rows().deselect(),r.action()}):"option"===r.type&&(void 0!==r.confirmation?$(w).click(function(){l(r,s)}):$(w).click(function(){i.dt.rows().deselect();var t=s.filter(t=>void 0===r.isDisabled||!r.isDisabled(t));r.action(t,$(w))})),c.append(w)}}),d.push(c),$.each(e,function(e,i){$(t.containerSelector).addClass(i)}),$.each(d,function(e,i){i.children().length>0&&$(t.containerSelector).append(i)})}(t,e,n,o,s)}(e.buttonList,e.classes,e.items,e.iconPrefix,n)}function a(t){$("#"+t+".dropdown-menu").remove()}function d(e,i){$.each(i,function(e,i){$(t.containerSelector).removeClass(i)}),$(e).empty()}function l(e,n,o){var s=n.filter(t=>void 0===e.isDisabled||!e.isDisabled(t)),a=e.confirmation(s);a.callback=function(t){t&&(i.dt.rows().deselect(),e.action(s,o))},t.showConfirmationMethod(a)}function c(t){return t&&"object"==typeof t&&!Array.isArray(t)}return i.init(t),i});