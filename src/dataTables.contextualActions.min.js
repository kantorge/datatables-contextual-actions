jQuery.fn.dataTable.Api.register("contextualActions()",function(t){var e=this.table();const i={DIVIDER:"divider",OPTION:"option",STATIC:"static"},n={isDisabled:function(t,e){return t.type!==i.STATIC&&0===e.length||void 0!==t.multi&&!1===t.multi&&e.length>1||"function"==typeof t.isDisabled&&((void 0===t.isDisabledStrictMode||"boolean"==typeof t.isDisabledStrictMode&&!1===t.isDisabledStrictMode)&&0===e.filter(e=>!t.isDisabled(e)).length||"boolean"==typeof t.isDisabledStrictMode&&!0===t.isDisabledStrictMode&&e.some(e=>t.isDisabled(e)))||t.type===i.STATIC&&"function"==typeof t.isDisabled&&t.isDisabled()}};if(null==t&&(t={}),(t=function t(e,...i){if(!i.length)return e;const n=i.shift();if(u(e)&&u(n))for(const i in n)u(n[i])?(e[i]||Object.assign(e,{[i]:{}}),t(e[i],n[i])):Object.assign(e,{[i]:n[i]});return t(e,...i)}({contextMenu:{enabled:!0,isMulti:!1,xoffset:-10,yoffset:-10,showSpeed:"0.30s",headerRenderer:function(){return""}},buttonList:{enabled:!0,groupClass:"btn-group",iconOnly:!1,disabledOpacity:.5,dividerSpacing:10},classes:[],iconPrefix:"",items:[],deselectAfterAction:!0,showConfirmationMethod:function(t){t.callback(window.confirm(t.message))}},t)).buttonList.enabled&&void 0===t.buttonList.containerSelector)throw"The buttonList.containerSelector option must be specified if the buttonList is enabled, to specify where the buttons will be created";var o={dt:null,table:null,contextMenuId:"",rightClickedRowData:"",init:function(t){this.dt=e,this.table=$(this.dt.container()).find("table"),$(window).click(function(t){$("#"+o.contextMenuId).is(":visible")&&!$(t.target).closest(".dropdown-menu").length&&s()}),this.contextMenuId=(this.table instanceof jQuery?this.table.attr("id"):this.table.id)+"-context-menu",this.rightClickedRowData=[];var i=this;$(this.table).on("contextmenu","tr",function(e){t.contextMenu.isMulti||o.table.DataTable().rows().deselect(),i.dt.row(this).select();var n=i.table.DataTable().rows({selected:!0}).toArray()[0],l=i.table.DataTable().rows(n).data().toArray();if(t.contextMenu.enabled&&void 0!==l)return s(),i.rightClickedRowData=l,a(e.pageX,e.pageY),!1}),this.dt.on("select",function(e,n,o,s){if("row"===o){var a=n.rows({selected:!0}).toArray()[0],d=i.table.DataTable().rows(a).data().toArray();l(n,t,d)}}),this.dt.on("deselect",function(e,n,o,s){if("row"===o){var a=n.rows({selected:!0}).toArray()[0],d=i.table.DataTable().rows(a).data().toArray();l(n,t,d)}}),l(this.dt,t,[])},update:function(){var e=this.dt.rows({selected:!0}).data().toArray();l(this.dt,t,e)}};function s(){$("#"+o.contextMenuId).removeClass("show").hide(),o.rightClickedRowData=[],d(o.contextMenuId)}function a(e,s){var a,l,c,u,f,p;a=o.contextMenuId,l=t.classes,c=t.iconPrefix,u=t.items,f=o.rightClickedRowData,(p=$('<div id="'+a+'" class="dropdown-menu shadow'+l.join(" ")+'">')).css({display:"block",visibility:"hidden",opacity:0,transform:"translateY(-30px)",transition:"0.15s ease all"}),p.append('<h6 class="dropdown-header"></h6>'),$.each(u,function(e,s){if("function"!=typeof s.isHidden||0!==f.length&&!f.some(t=>s.isHidden(t)))if(s.type===i.DIVIDER)e>0&&e!==u.length-1&&u[e-1].type!==i.DIVIDER&&p.append('<div class="dropdown-divider"></div>');else if(s.type===i.OPTION){var l="";void 0!==s.iconClass&&""!==s.icon&&(l='<i style="margin-right:15px;" class="'+c+" "+s.iconClass+'"></i>');var h=void 0!==s.contextMenuClasses?s.contextMenuClasses.join(" "):"",b=void 0!==s.classes?s.classes.join(" "):"",v=void 0===s.multiTitle?s.title||"":f.length>1?s.multiTitle||"":s.title||"",y=$.parseHTML('<a class="dropdown-item '+b+" "+h+'" style="cursor: pointer;">'+l+v+"</a>");if(n.isDisabled(s,f)&&$(y).addClass("disabled").css("opacity","0.5"),f.length>1){var D="function"==typeof s.isDisabled?f.filter(t=>!s.isDisabled(t)).length:f.length;$(y).append(" ("+D+")")}void 0!==s.confirmation?$(y).click(function(){r(s,f),d(a)}):$(y).click(function(){var e=f.filter(t=>void 0===s.isDisabled||!s.isDisabled(t));d(a),s.action(e,$(y)),t.deselectAfterAction?o.dt.rows().deselect():o.update()}),p.append(y)}}),p.children(":last-child.dropdown-divider").remove(),p.children().each(function(){$(this).hasClass("dropdown-divider")&&$(this).prev().hasClass("dropdown-divider")&&$(this).remove()}),$("body").append(p),$("#"+o.contextMenuId).css({top:s+t.contextMenu.yoffset,left:e+t.contextMenu.xoffset}),$("#"+o.contextMenuId).find(".dropdown-header").html(t.contextMenu.headerRenderer(o.rightClickedRowData)),setTimeout(function(){$("#"+o.contextMenuId).css({display:"block",visibility:"visible",opacity:1,transform:"translateY(0px)",transition:t.contextMenu.showSpeed+" ease all","z-index":99999})},1)}function l(t,e,s){e.buttonList.enabled&&function(t,e,s,a,l){c(t.containerSelector,e),function(t,e,s,a,l){var d='<div class="'+t.groupClass+'"></div>',c=[],u=null;$.each(s,function(e,f){if(null===u)u=$(d);else{if(0===e&&f.type===i.DIVIDER)return;if(e>0&&f.type===i.DIVIDER&&s[e-1].type===i.DIVIDER)return;if(e===s.length-1&&f.type===i.DIVIDER)return;if(e>0&&f.type===i.DIVIDER)return c.push(u),void(u=$(d)).css("margin-left",t.dividerSpacing+"px")}if(("function"!=typeof f.isHidden||0!==l.length&&!l.some(t=>f.isHidden(t)))&&(f.type===i.OPTION||f.type===i.STATIC)){var p="",h=t.iconOnly?"":"margin-right:10px;";void 0!==f.iconClass&&""!==f.icon&&(p='<i style="'+h+'" class="'+a+" "+f.iconClass+'"></i>');var b=void 0!==f.buttonClasses?f.buttonClasses.join(" "):"",v=void 0!==f.classes?f.classes.join(" "):"",y="",D=void 0===f.multiTitle?f.title||"":l.length>1?f.multiTitle||"":f.title||"";y=t.iconOnly?p:p+D;var g="function"==typeof f.isDisabled?l.filter(t=>!f.isDisabled(t)).length:l.length;t.iconOnly?(D=D,f.type!==i.STATIC&&l.length>1&&(D+=" ("+g+")")):D="";var w=$.parseHTML('<button class="'+b+" "+v+'" data-original-title="'+D+'" >'+y+"</button>");void 0!==f.id&&$(w).attr("id",f.id);var m=n.isDisabled(f,l);m?($(w).addClass("disabled"),$(w).attr("disabled","disabled"),$(w).css("cursor","not-allowed"),$(w).css("opacity",t.disabledOpacity),$(w).removeAttr("title","")):!t.iconOnly&&f.type!==i.STATIC&&l.length>1&&$(w).append(" ("+g+")"),!m&&t.iconOnly&&""!==D&&$(w).attr("data-toggle","tooltip"),f.type===i.STATIC?$(w).click(function(){f.action(),t.deselectAfterAction?o.dt.rows().deselect():o.update()}):f.type===i.OPTION&&(void 0!==f.confirmation?$(w).click(function(){r(f,l)}):$(w).click(function(){var e=l.filter(t=>void 0===f.isDisabled||!f.isDisabled(t));f.action(e,$(w)),t.deselectAfterAction?o.dt.rows().deselect():o.update()})),u.append(w)}}),c.push(u),$.each(e,function(e,i){$(t.containerSelector).addClass(i)}),$.each(c,function(e,i){i.children().length>0&&$(t.containerSelector).append(i)})}(t,e,s,a,l)}(e.buttonList,e.classes,e.items,e.iconPrefix,s)}function d(t){$("#"+t+".dropdown-menu").remove()}function c(e,i){$.each(i,function(e,i){$(t.containerSelector).removeClass(i)}),$(e).empty()}function r(e,i,n){var s=i.filter(t=>void 0===e.isDisabled||!e.isDisabled(t)),a=e.confirmation(s);a.callback=function(i){i&&(e.action(s,n),t.deselectAfterAction?o.dt.rows().deselect():o.update())},t.showConfirmationMethod(a)}function u(t){return t&&"object"==typeof t&&!Array.isArray(t)}return o.init(t),o});